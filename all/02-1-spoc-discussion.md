#lec 3 SPOC Discussion

## 第三讲 启动、中断、异常和系统调用-思考题

## 3.1 BIOS
 1. 比较UEFI和BIOS的区别。
 1. 描述PXE的大致启动流程。

## 3.2 系统启动流程
 1. 了解NTLDR的启动流程。
 1. 了解GRUB的启动流程。
 1. 比较NTLDR和GRUB的功能有差异。
 1. 了解u-boot的功能。

## 3.3 中断、异常和系统调用比较
 1. 举例说明Linux中有哪些中断，哪些异常？
 1. Linux的系统调用有哪些？大致的功能分类有哪些？  (w2l1)

```
上百个。包含下面几个分类：

    - 进程控制
    - 文件系统控制，包括文件读写、文件系统操作等
    - 系统控制
    - 内存管理
    - 网络管理
    - socket 控制
    - 用户管理
    - 进程间通信
```

 1. 以ucore lab8的answer为例，uCore的系统调用有哪些？大致的功能分类有哪些？(w2l1)

 |  编号  |   系统调用     |      作用        |       分类      |
 |-------|--------------|------------------|-----------------|
 |   1   |   sys_exit   |   中止进程        |     进程控制     |
 |   2   |   sys_fork   |   创建一个新进程   |     进程控制     |
 |   3   |   sys_wait   |   等待子进程中止   |     进程控制     |
 |   4   |   sys_exec   |   运行可执行文件   |     进程控制     |
 |   5   |   sys_yield  |   进程主动让出处理器,并将自己等候调度队列队尾 | 进程控制 |
 |   6   |   sys_kill   |   向进程发信号     |    进程间通信    |
 |   7   |   sys_getpid |   获取进程标识号    |    进程控制     |
 |   8   |   sys_putc   |   打印字符(?)      |    文件系统控制  |
 |   9   |   sys_pgdir  |   获得当前进程的路径 |    进程控制     |
 |   10  |   sys_gettime|   取时间          |     系统控制     |
 |   11  |   sys_lab6_set_priority |   设置优先级  | 进程控制   |
 |   12  |   sys_sleep  |   使进程睡眠指定的时间 |   进程控制     |
 |   13  |   sys_open   |   打开文件         |    文件系统控制  |
 |   14  |   sys_close  |   关闭文件         |    文件系统控制  |
 |   15  |   sys_read   |   读取文件         |    文件系统控制  |
 |   16  |   sys_write  |   写入文件         |    文件系统控制  |
 |   17  |   sys_seek   |   移动文件指针      |    文件系统控制  |
 |   18  |   sys_fstat  |   取文件状态信息    |    文件系统控制  |
 |   19  |   sys_fsync  |   把文件在内存中的部分写回磁盘 | 文件系统控制 |
 |   20  |   sys_getcwd |   取得当前工作目录   |    文件系统控制  |
 |   21  |   sys_getdirentry | 取 direntry  |    文件系统控制  |
 |   22  |   sys_dup    |   复制已打开的文件描述字|  文件系统控制  |  

## 3.4 linux系统调用分析
 1. 通过分析[lab1_ex0](https://github.com/chyyuu/ucore_lab/blob/master/related_info/lab1/lab1-ex0.md)了解Linux应用的系统调用编写和含义。(w2l1)


 ```
  + 采分点：说明了objdump，nm，file的大致用途，说明了系统调用的具体含义
  - 答案没有涉及上述两个要点；（0分）
  - 答案对上述两个要点中的某一个要点进行了正确阐述（1分）
  - 答案对上述两个要点进行了正确阐述（2分）
  - 答案除了对上述两个要点都进行了正确阐述外，还进行了扩展和更丰富的说明（3分）

 ```

 1. 通过调试[lab1_ex1](https://github.com/chyyuu/ucore_lab/blob/master/related_info/lab1/lab1-ex1.md)了解Linux应用的系统调用执行过程。(w2l1)


 ```
  + 采分点：说明了strace的大致用途，说明了系统调用的具体执行过程（包括应用，CPU硬件，操作系统的执行过程）
  - 答案没有涉及上述两个要点；（0分）
  - 答案对上述两个要点中的某一个要点进行了正确阐述（1分）
  - 答案对上述两个要点进行了正确阐述（2分）
  - 答案除了对上述两个要点都进行了正确阐述外，还进行了扩展和更丰富的说明（3分）
 ```

## 3.5 ucore系统调用分析
 1. ucore的系统调用中参数传递代码分析。
 1. ucore的系统调用中返回结果的传递代码分析。
 1. 以ucore lab8的answer为例，分析ucore 应用的系统调用编写和含义。
 1. 以ucore lab8的answer为例，尝试修改并运行ucore OS kernel代码，使其具有类似Linux应用工具`strace`的功能，即能够显示出应用程序发出的系统调用，从而可以分析ucore应用的系统调用执行过程。

## 3.6 请分析函数调用和系统调用的区别
 1. 请从代码编写和执行过程来说明。
   1. 说明`int`、`iret`、`call`和`ret`的指令准确功能
