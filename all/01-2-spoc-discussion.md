# 操作系统概述思考题

## 个人思考题

---

分析你所认识的操作系统（Windows、Linux、FreeBSD、Android、iOS）所具有的独特和共性的功能？
- [x]  

>  ***共性的功能：***  
>  都有图形用户界面；  
>  都有通过驱动程序可以与各种外设通信；  
>  都是多用户操作系统，允许多个用户登录，并且有管理员用户；  
>  都是多任务的操作系统，可以分时地运行很多个程序；  
>  都实现了文件系统；  
>  提供虚拟存储。  
>  ***独特的功能：***  
>  图形界面的实现各有不同。Linux 的桌面环境通常是基于 X Window ，实现上和 Windows NT 的桌面环境相距甚远。通常认为 Windows 和 OS X 的用户界面实现的较好；  
>  内核部分不同，FreeBSD 和 OS X / iOS 是使用 BSD 内核的，通常认为是比较正统的 Unix ，Windows 使用 NT 内核，Linux 使用 Linux 内核；  
>  文件系统不同。Windows 使用的是 NT 文件系统 NTFS ，现代的 OS X 使用的是 HFS+ ，现代的 Linux 通常使用 Ext4 。这几种文件系统各有千秋，例如 NTFS 一个很大的缺点就是文件名不能使用某些特殊字符；  
>  Bootloader 不同，例如 Linux 通常使用 GNU/Grub ；  
>  打包在 OS 里的某些用户程序不同。例如浏览器 Linux 通常自带 Firefox ，而 Windows 自带 IE 。  


请总结你认为操作系统应该具有的特征有什么？并对其特征进行简要阐述。
- [x]  

>  对硬件进行隔离，提供应用程序接口供应用程序使用；  
>  控制应用程序的运行，合理分配有限的硬件资源；  
>  提供输入输出设备的驱动；  

请给出你觉得的更准确的操作系统的定义？
- [x]  

>  管理硬件和应用软件资源并为应用软件提供接口的一种系统软件。

你希望从操作系统课学到什么知识？
- [x]  

>  深入理解现有的操作系统的构造，从而更好的使用它们；  
>  部分实现一个自己的操作系统；  
>  为已有的操作系统开发驱动程序，使它更好的支持硬件；  
>  了解操作系统的前沿和发展趋势。  

---

## 小组讨论题

---

目前的台式PC机标准配置和价格？
- [x]  

>  通常是四核心 CPU ，因为支持 Hyperthreading ，可以有多达 8 个线程，最高频率在 3GHz 左右；  
>  图形卡通常有几百个 stream processor ，提供 2GB 的 GDDR5 独立的显存（焊接在显示卡电路板上）；  
>  主存通常是 8GB 的 DDR3 SDRAM ，等效频率 1333/1600MHz （取决于内存控制器）；  
>  外存通常 1TB ，通常还会通过 SATA 控制器接驳一个光储存设备；  
>  mobo 上集成有 HDA 声卡和千兆以太网控制器，提供 PCIE 总线插槽；  
>  价格通常 5000 元左右。  

你理解的命令行接口和GUI接口具有哪些共性和不同的特征？
- [x]  

>  ***共性***  
>  都是用户接口，所以评价标准相同，越是利于用户使用的就越好；  
>  通常能够实现的功能相同，例如文本编辑器，既可以采用 CLI 也可以采用 GUI ；  
>  都适合采用键盘作为输入设备。  
>  ***不同***  
>  使用难度不同，CLI 难于使用因为用户必须了解甚至背诵常用的指令，**尤其是 Linux 的命令行参数标准不统一，导致一团乱糟糟**；  
>  GUI 可以使用指点设备输入，传统 CLI 不行；  
>  （均熟练使用）CLI 效率明显高于 GUI ，尤其是设计好的 shell 交互贴近自然语言；  
>  CLI 无法同时看很多个窗口，虽然可以借助 tmux 等工具分屏，但是还是显得不够自然；  
>  CLI 对硬件的压力较小，例如 OS X 最新版本增加的 translucency 实时透明，渲染成本很高；  
>  CLI 界面利于编程（或者称为 macro ）来快速实现一系列操作；  
>  CLI 利于个性化定制，而且都是字符，定制起来比较方便。  

为什么现在的操作系统基本上用C语言来实现？
- [x]  

>  现在广泛使用的操作系统通常历史都很久远，那时候还没有 Cpp；  
>  C 语言是很接近汇编的高级语言，编译器直接生成汇编代码，不像 Java 需生成字节码在 JVM 上跑；  
>  C 的语法规范相较后起之秀如 Cpp 来说更为简单直接；  
>  C 代码的开发者众多、资料丰富、分析工具较为成熟；  
>  C 可以很方便的内联汇编；  
>  不同 C 编译器的符号基本相同。  

为什么没有人用python，java来实现操作系统？
- [x]  

>  

请评价用C++来实现操作系统的利弊？
- [x]  

>  

---

## 开放思考题

---

请评价微内核、单体内核、外核（exo-kernel）架构的操作系统的利弊？
- [x]  

>  单体内核就是传统的 Unix 内核模式，整个运行在内核态，提供进程管理、存储管理、硬件驱动等；提供系统调用和服务交互；通常要使用 module 。
优点是内核模块间相互调用比较方便，速度性能非常好，但是鲁棒性和扩展性方面有欠缺，比如出现错误直接内核 panic 了。  
>  微内核就是把一些东西，比如设备驱动，放到用户态运行，这样的好处是内核非常小。
优点很明显，内核变得小而可控，例如驱动程序崩溃不再影响内核了，缺点是效率不高，有大量的用户态内核态转化开销。  
>  外核是一种特殊的微内核，其理念是让用户程序的设计者决定硬件接口的设计，而外核只负责系统保护和系统资源复用相关的服务。
这样设计显然是为了减小微内核的用户态内核态转换开销，不过目前还没有成熟的采用外核的 OS 。  

请评价用LISP,OCcaml, GO, D，RUST等实现操作系统的利弊？
- [x]  

>  拿 Lisp 举例，Lisp Machine 之所以当年有存在的必要，是因为它可以更高效的执行 Lisp 。它的 OS 是用 Lisp 写的。而且，当时的需求是执行较大型的人工智能程序，Lisp 有优势。
而现在 Lisp Machine 原有的优势已经失去了。至于例如 Go 语言这样的，我觉得弊端主要是社区活力不足，显得过于小众所致，另外 Go 语言的垃圾回收也会有一定性能开销。

进程切换的可能实现思路？
- [x]  

>  采用中断的方式，首先储存当前的寄存器现场，然后恢复待执行进程的寄存器现场。

计算机与终端间通过串口通信的可能实现思路？
- [x]  

>  可以通过中断或者 DMA 的方法。

为什么微软的Windows没有在手机终端领域取得领先地位？
- [x]  

>  因为java和python均专注于面向对象和可移植性，对于底层硬件控制的支持不够，难于实现可靠的操作系统。

你认为未来（10年内）的操作系统应该具有什么样的特征和功能？
- [x]  

>  C++ 来源于自 C 语言，对于内核控制有着较高的精确性；但同时由于 C++ 自身的复杂性较高，因此难于编写，调试的代价也相应较高。

---
